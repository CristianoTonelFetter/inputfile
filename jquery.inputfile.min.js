!function(e){e.fn.inputfile=function(t){if("destroy"==t)return void this.trigger("destroy");var a={customOffset:null,onChange:function(e,t){},name:"inputfile"};return this.each(function(){var n,i,s=e.extend({},a,t),o=e(this),r=e('<input type="file" name="'+s.name+'" class="newInputFile" />'),p=o;o.addClass((o.attr("name")?o.attr("name"):s.name)+"_placeholder"),"static"!=o.parent().css("position")?(n="0px",i="0px"):(n=o.offset().top,i=o.offset().left),r.css({position:"absolute",top:null!=s.customOffset?s.customOffset.top:n,left:null!=s.customOffset?s.customOffset.left:i,width:o.innerWidth()+"px",height:o.innerHeight()+"px",cursor:"pointer","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)",filter:"alpha(opacity=0)","-moz-opacity":"0","-khtml-opacity":"0",opacity:"0"}),r.bind("change mouseenter mouseleave",function(t){var a=e(this),n=a.val().replace("fakepath","...");switch(t.type){case"change":r.val().length>0?p.val(n):p.val("");break;case"mouseenter":case"mouseleave":o.trigger(t.type)}"change"==t.type&&s.onChange(a.val(),a)}),o.parent().append(r)})}}(jQuery);